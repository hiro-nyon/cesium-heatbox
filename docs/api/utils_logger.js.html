<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: utils/logger.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: utils/logger.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * ログ出力制御ユーティリティ
 * NODE_ENVやdebugフラグによってログレベルを制御
 */

/**
 * ログレベル定数
 */
const LOG_LEVELS = {
  ERROR: 0,
  WARN: 1,
  INFO: 2,
  DEBUG: 3
};

/**
 * 現在のログレベルを決定
 * NODE_ENV=production では ERROR と WARN のみ
 * DEBUG=true または NODE_ENV=development では全レベル出力
 */
function getLogLevel() {
  // 明示的にDEBUG=trueが設定されている場合
  if (typeof process !== 'undefined' &amp;&amp; process.env &amp;&amp; process.env.DEBUG === 'true') {
    return LOG_LEVELS.DEBUG;
  }
  
  // NODE_ENVをチェック
  if (typeof process !== 'undefined' &amp;&amp; process.env &amp;&amp; process.env.NODE_ENV === 'production') {
    return LOG_LEVELS.WARN;
  }
  
  // デフォルトは開発モード（全ログ出力）
  return LOG_LEVELS.DEBUG;
}

let currentLogLevel = getLogLevel();

/**
 * ログ出力の共通ユーティリティ
 */
export const Logger = {
  /**
   * エラーログ（常に出力）
   * @param {...any} args - ログ引数
   */
  error(...args) {
    if (currentLogLevel >= LOG_LEVELS.ERROR) {
      console.error('[Heatbox ERROR]', ...args); // eslint-disable-line no-console
    }
  },

  /**
   * 警告ログ
   * @param {...any} args - ログ引数
   */
  warn(...args) {
    if (currentLogLevel >= LOG_LEVELS.WARN) {
      console.warn('[Heatbox WARN]', ...args); // eslint-disable-line no-console
    }
  },

  /**
   * 情報ログ
   * @param {...any} args - ログ引数
   */
  info(...args) {
    if (currentLogLevel >= LOG_LEVELS.INFO) {
      console.log('[Heatbox INFO]', ...args); // eslint-disable-line no-console
    }
  },

  /**
   * デバッグログ
   * @param {...any} args - ログ引数
   */
  debug(...args) {
    if (currentLogLevel >= LOG_LEVELS.DEBUG) {
      console.log('[Heatbox DEBUG]', ...args); // eslint-disable-line no-console
    }
  },

  /**
   * オプション設定によるログレベル制御
   * @param {Object} options - オプション
   */
  setLogLevel(options) {
    if (options &amp;&amp; typeof options.debug === 'boolean') {
      // debug: true → 詳細ログ、debug: false → 重要ログのみ
      currentLogLevel = options.debug ? LOG_LEVELS.DEBUG : LOG_LEVELS.WARN;
    }
    return currentLogLevel;
  }
};

/**
 * 下位互換のためのラッパー関数群
 * 既存のconsole.log置き換え用
 */
export const log = Logger.debug;
export const warn = Logger.warn;
export const error = Logger.error;
export const info = Logger.info;
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="CoordinateTransformer.html">CoordinateTransformer</a></li><li><a href="DataProcessor.html">DataProcessor</a></li><li><a href="Heatbox.html">Heatbox</a></li><li><a href="VoxelGrid.html">VoxelGrid</a></li><li><a href="VoxelRenderer.html">VoxelRenderer</a></li></ul><h3>Global</h3><ul><li><a href="global.html#COLOR_CONSTANTS">COLOR_CONSTANTS</a></li><li><a href="global.html#COORDINATE_CONSTANTS">COORDINATE_CONSTANTS</a></li><li><a href="global.html#DEFAULT_OPTIONS">DEFAULT_OPTIONS</a></li><li><a href="global.html#DEFAULT_STATISTICS">DEFAULT_STATISTICS</a></li><li><a href="global.html#ERROR_MESSAGES">ERROR_MESSAGES</a></li><li><a href="global.html#LOG_LEVELS">LOG_LEVELS</a></li><li><a href="global.html#Logger">Logger</a></li><li><a href="global.html#PERFORMANCE_LIMITS">PERFORMANCE_LIMITS</a></li><li><a href="global.html#VERSION">VERSION</a></li><li><a href="global.html#calculateDataRange">calculateDataRange</a></li><li><a href="global.html#createBoundsFromCenter">createBoundsFromCenter</a></li><li><a href="global.html#createHeatbox">createHeatbox</a></li><li><a href="global.html#estimateInitialVoxelSize">estimateInitialVoxelSize</a></li><li><a href="global.html#generateTestEntities">generateTestEntities</a></li><li><a href="global.html#getAllEntities">getAllEntities</a></li><li><a href="global.html#getEnvironmentInfo">getEnvironmentInfo</a></li><li><a href="global.html#getLogLevel">getLogLevel</a></li><li><a href="global.html#getTokyoStationBounds">getTokyoStationBounds</a></li><li><a href="global.html#hasValidPosition">hasValidPosition</a></li><li><a href="global.html#isValidEntities">isValidEntities</a></li><li><a href="global.html#isValidViewer">isValidViewer</a></li><li><a href="global.html#isValidVoxelSize">isValidVoxelSize</a></li><li><a href="global.html#log">log</a></li><li><a href="global.html#validateAndNormalizeOptions">validateAndNormalizeOptions</a></li><li><a href="global.html#validateVoxelCount">validateVoxelCount</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 4.0.4</a> on Sun Aug 24 2025 18:09:51 GMT+0900 (Japan Standard Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
