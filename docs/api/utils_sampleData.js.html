<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: utils/sampleData.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: utils/sampleData.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * サンプルデータ生成のユーティリティ関数
 */
import * as Cesium from 'cesium';

/**
 * 指定された範囲内にランダムなテストエンティティを生成
 * @param {Object} viewer - CesiumJS Viewer
 * @param {Object} bounds - 生成範囲 {minLon, maxLon, minLat, maxLat, minAlt, maxAlt}
 * @param {number} count - 生成数（デフォルト: 500）
 * @returns {Array} 生成されたエンティティ配列
 */
export function generateTestEntities(viewer, bounds, count = 500) {
  if (!viewer) {
    throw new Error('viewer is required');
  }
  
  if (!bounds || !('minLon' in bounds) || !('maxLon' in bounds) || !('minLat' in bounds) || !('maxLat' in bounds)) {
    throw new Error('bounds must include minLon, maxLon, minLat, maxLat');
  }
  
  const entities = [];
  
  // デフォルト高度範囲
  const minAlt = bounds.minAlt || 0;
  const maxAlt = bounds.maxAlt || 100;
  
  for (let i = 0; i &lt; count; i++) {
    const lon = bounds.minLon + (bounds.maxLon - bounds.minLon) * Math.random();
    const lat = bounds.minLat + (bounds.maxLat - bounds.minLat) * Math.random();
    const alt = minAlt + (maxAlt - minAlt) * Math.random();
    
    const entity = viewer.entities.add({
      id: `test-entity-${i}`,
      position: Cesium.Cartesian3.fromDegrees(lon, lat, alt),
      point: {
        pixelSize: 5,
        color: Cesium.Color.YELLOW,
        outlineColor: Cesium.Color.BLACK,
        outlineWidth: 1
      },
      label: {
        text: `Test ${i}`,
        font: '10pt sans-serif',
        pixelOffset: new Cesium.Cartesian2(0, -30),
        fillColor: Cesium.Color.WHITE,
        outlineColor: Cesium.Color.BLACK,
        outlineWidth: 1,
        style: Cesium.LabelStyle.FILL_AND_OUTLINE
      }
    });
    
    entities.push(entity);
  }
  
  return entities;
}

/**
 * 指定されたviewerの全エンティティを取得
 * @param {Object} viewer - CesiumJS Viewer
 * @returns {Array} エンティティ配列
 */
export function getAllEntities(viewer) {
  if (!viewer || !viewer.entities) {
    throw new Error('Invalid viewer');
  }
  
  return viewer.entities.values;
}

/**
 * 東京駅周辺の境界を取得
 * @returns {Object} 東京駅周辺の境界情報
 */
export function getTokyoStationBounds() {
  return {
    minLon: 139.7640,
    maxLon: 139.7680,
    minLat: 35.6790,
    maxLat: 35.6820,
    minAlt: 0,
    maxAlt: 100,
    centerLon: 139.7660,
    centerLat: 35.6805,
    centerAlt: 50
  };
}

/**
 * 指定された中心点とサイズから境界を生成
 * @param {number} centerLon - 中心経度
 * @param {number} centerLat - 中心緯度
 * @param {number} centerAlt - 中心高度
 * @param {number} sizeMeters - 一辺のサイズ（メートル）
 * @returns {Object} 境界情報
 */
export function createBoundsFromCenter(centerLon, centerLat, centerAlt, sizeMeters) {
  // 度からメートルへの概算変換
  const latDelta = sizeMeters / 111000 / 2;
  const lonDelta = sizeMeters / (111000 * Math.cos(centerLat * Math.PI / 180)) / 2;
  const altDelta = sizeMeters / 2;
  
  return {
    minLon: centerLon - lonDelta,
    maxLon: centerLon + lonDelta,
    minLat: centerLat - latDelta,
    maxLat: centerLat + latDelta,
    minAlt: centerAlt - altDelta,
    maxAlt: centerAlt + altDelta,
    centerLon,
    centerLat,
    centerAlt
  };
}
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="CoordinateTransformer.html">CoordinateTransformer</a></li><li><a href="DataProcessor.html">DataProcessor</a></li><li><a href="Heatbox.html">Heatbox</a></li><li><a href="VoxelGrid.html">VoxelGrid</a></li><li><a href="VoxelRenderer.html">VoxelRenderer</a></li></ul><h3>Global</h3><ul><li><a href="global.html#COLOR_CONSTANTS">COLOR_CONSTANTS</a></li><li><a href="global.html#COORDINATE_CONSTANTS">COORDINATE_CONSTANTS</a></li><li><a href="global.html#DEFAULT_OPTIONS">DEFAULT_OPTIONS</a></li><li><a href="global.html#DEFAULT_STATISTICS">DEFAULT_STATISTICS</a></li><li><a href="global.html#ERROR_MESSAGES">ERROR_MESSAGES</a></li><li><a href="global.html#LOG_LEVELS">LOG_LEVELS</a></li><li><a href="global.html#Logger">Logger</a></li><li><a href="global.html#PERFORMANCE_LIMITS">PERFORMANCE_LIMITS</a></li><li><a href="global.html#VERSION">VERSION</a></li><li><a href="global.html#createBoundsFromCenter">createBoundsFromCenter</a></li><li><a href="global.html#createHeatbox">createHeatbox</a></li><li><a href="global.html#generateTestEntities">generateTestEntities</a></li><li><a href="global.html#getAllEntities">getAllEntities</a></li><li><a href="global.html#getEnvironmentInfo">getEnvironmentInfo</a></li><li><a href="global.html#getLogLevel">getLogLevel</a></li><li><a href="global.html#getTokyoStationBounds">getTokyoStationBounds</a></li><li><a href="global.html#hasValidPosition">hasValidPosition</a></li><li><a href="global.html#isValidEntities">isValidEntities</a></li><li><a href="global.html#isValidViewer">isValidViewer</a></li><li><a href="global.html#isValidVoxelSize">isValidVoxelSize</a></li><li><a href="global.html#log">log</a></li><li><a href="global.html#validateAndNormalizeOptions">validateAndNormalizeOptions</a></li><li><a href="global.html#validateVoxelCount">validateVoxelCount</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 4.0.4</a> on Sun Aug 24 2025 00:52:43 GMT+0900 (Japan Standard Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
